#+begin_html
---
title: Building the Extempore standard library
alias: ["./2013-12-16-building-the-extempore-standard-library.html"]
tags: xtlang setup
---
#+end_html

Here are the steps to building and loading the Extempore standard
library:

- make sure you've set your =EXT_LLVM_DIR= environment variable to
  point to your LLVM build directory[fn::if you're using homebrew on
  OSX, the default location will be
  =/usr/local/Cellar/extempore-llvm/3.4.1=]
- in a new Extempore session, eval the file =libs/create-stdlib.xtm=
  from top to bottom (or load it at startup with =./extempore --run
  libs/create-stdlib.xtm=)
- if the standard library compiles successfully, the shared library
  =xtm.dylib= / =xtm.so= will be moved into place in your
  =extempore/libs= directory.

Then you're done. To load the standard lib, use =(sys:load
libs/xtm.xtm)= and you'll have all the main maths, audio and graphics
libraries loaded up. This takes the Extempore startup time on my
machine from several minutes down to about 4 seconds. Pretty handy if
you're having to start it up regularly as I am :)

You can pre-compile /any/ xtlang code in this fashion, not just the
the standard library. I'll put together a blog post on that at some
stage, but the basic ideas can be gleaned from taking a look at
=libs/create-stdlib.xtm= and =libs/xtm.xtm=.
